RMPRPIXI ;HINCIO/ODJ - FILE 661.7 APIs  ;3/8/01
 ;;3.0;PROSTHETICS;**61**;Feb 09, 1996
 Q
 ;
 ; Get Total Quantity On Hand at the HCPC level
QOHH(RMPRHCPC,RMPRSTN,RMPRQOH) ;
 N RMPRERR,RMPR,RMPROLD,RMPREOF,RMPRIN
 S RMPRERR=0
 S RMPRQOH("QUANTITY")=""
 S RMPRQOH("VALUE")=""
 ;I RMPRSTN="*" G QOHHS ; for all stations
 ;
 ; Sum over all HCPCS items for single station
 S RMPR("STATION")=RMPRSTN
 S RMPR("HCPCS")=RMPRHCPC
QOHH1 S RMPRERR=$$NEXT^RMPRPIXE(.RMPR,"XSHIDS","",1,.RMPROLD,.RMPREOF)
 I RMPRERR G QOHHX
 I RMPREOF G QOHHX
 I RMPROLD("HCPCS")'=RMPR("HCPCS") G QOHHX
 K RMPRIN M RMPRIN=RMPR
 S RMPRERR=$$GET^RMPRPIX7(.RMPRIN)
 I RMPRERR G QOHHX
 S RMPRQOH("QUANTITY")=RMPRIN("QUANTITY")+RMPRQOH("QUANTITY")
 S RMPRQOH("VALUE")=RMPRIN("VALUE")+RMPRQOH("VALUE")
 G QOHH1
QOHHX Q RMPRERR
