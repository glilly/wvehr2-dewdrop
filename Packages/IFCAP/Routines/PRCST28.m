PRCST28 ; ;09/19/10
 ;;
1 N X,X1,X2 S DIXR=653 D X1(U) K X2 M X2=X D X1("F") K X1 M X1=X
 D
 . N DIEZCOND,DIEXARR M DIEXARR=X S DIEZCOND=1
 . S X=(X2=""&($P($G(^PRCS(410,DA(1),"IT",DA,4)),"^",1)]""))
 . S DIEZCOND=$G(X) K X M X=DIEXARR Q:'DIEZCOND
 . D EN^PRCVLIC
 Q
X1(DION) K X
 S X(1)=$G(@DIEZTMP@("V",410.02,DIIENS,.01,DION),$P($G(^PRCS(410,DA(1),"IT",DA,0)),U,1))
 S X(2)=$G(@DIEZTMP@("V",410.02,DIIENS,2,DION),$P($G(^PRCS(410,DA(1),"IT",DA,0)),U,2))
 S X(3)=$G(@DIEZTMP@("V",410.02,DIIENS,3,DION),$P($G(^PRCS(410,DA(1),"IT",DA,0)),U,3))
 S X(4)=$G(@DIEZTMP@("V",410.02,DIIENS,4,DION),$P($G(^PRCS(410,DA(1),"IT",DA,0)),U,4))
 S X(5)=$G(@DIEZTMP@("V",410.02,DIIENS,5,DION),$P($G(^PRCS(410,DA(1),"IT",DA,0)),U,5))
 S X(6)=$G(@DIEZTMP@("V",410.02,DIIENS,6,DION),$P($G(^PRCS(410,DA(1),"IT",DA,0)),U,6))
 S X(7)=$G(@DIEZTMP@("V",410.02,DIIENS,7,DION),$P($G(^PRCS(410,DA(1),"IT",DA,0)),U,7))
 S X(8)=$G(@DIEZTMP@("V",410.02,DIIENS,17,DION),$P($G(^PRCS(410,DA(1),"IT",DA,4)),U,1))
 S X(9)=$G(@DIEZTMP@("V",410.02,DIIENS,18,DION),$P($G(^PRCS(410,DA(1),"IT",DA,4)),U,2))
 S X=$G(X(1))
 Q
