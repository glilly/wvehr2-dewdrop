IBCNSA0 ;ALB/NLR - ANNUAL BENEFITS EDIT - CONTINUED ; 21-MAY-1993
 ;;Version 2.0 ; INTEGRATED BILLING ;; 21-MAR-94
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
 ;
EN ; -- entry to do actions
 D POL,USERINF,ADDCOM,HOSPICE
 Q
 ;
POL ; -- Policy information region
 S IBCABD=$G(^IBA(355.4,IBCAB,0))
 S IBCABC=$G(^IBA(355.3,+$P(IBCABD,U,2),0))
 N OFFSET,START
 S START=1,OFFSET=20
 D SET^IBCNSP(START,OFFSET+6," Policy Information ",IORVON,IORVOFF)
 S Y=+IBCABD D D^DIQ
 S IBYE=Y
 ;D SET^IBCNSP(START+1,OFFSET+16,"Year: "_IBYE)
 ;D SET^IBCNSP(START+2,OFFSET+14,"Group: "_IBCGN)
 D SET^IBCNSP(START+1,OFFSET+3,"Max. Out of Pocket: $"_$J($P(IBCABD,U,5),7))
 D SET^IBCNSP(START+2,OFFSET-1,"Ambulance Coverage (%): "_$J($P(IBCABD,U,6),8)_"%")
 Q
 ; 
HOSPICE ;
 S IBCABD4=$G(^IBA(355.4,+IBCAB,4))
 S START=29,OFFSET=43
 D SET^IBCNSP(START,OFFSET+7," Hospice ",IORVON,IORVOFF)
 D SET^IBCNSP(START+1,OFFSET+2,"Annual Deductible: $"_$J($P(IBCABD4,U,1),7))
 D SET^IBCNSP(START+2,OFFSET-2,"Inpatient Annual Max.: $"_$J($P(IBCABD4,U,2),7))
 D SET^IBCNSP(START+3,OFFSET+6,"Lifetime Max.: $"_$J($P(IBCABD4,U,3),7))
 D SET^IBCNSP(START+4,OFFSET+1,"Room and Board (%): "_$J($P(IBCABD4,U,4),8)_"%")
 D SET^IBCNSP(START+5,OFFSET-4,"Other Inpt. Charges (%): "_$J($P(IBCABD4,U,5),8)_"%")
 Q
USERINF ;
 S IBCABD1=$G(^IBA(355.4,+IBCAB,1))
 S IBDUZ=$P(IBCABD1,U,2)
 S START=43,OFFSET=3
 D SET^IBCNSP(START,OFFSET+1," User Information ",IORVON,IORVOFF)
 D SET^IBCNSP(START+1,OFFSET+8,"Entered By: "_$P($G(^VA(200,+IBDUZ,0)),U))
 D SET^IBCNSP(START+2,OFFSET+8,"Entered On: "_$$DAT1^IBOUTL($P(IBCABD1,U)))
 S IBDUZ=$P(IBCABD1,U,6)
 D SET^IBCNSP(START+3,OFFSET+3,"Last Updated By: "_$P($G(^VA(200,+IBDUZ,0)),U))
 D SET^IBCNSP(START+4,OFFSET+3,"Last Updated On: "_$$DAT1^IBOUTL($P(IBCABD1,U,5)))
 Q
ADDCOM ;
 ;S START=12,OFFSET=4
 ;D SET^IBCNSP(START,OFFSET+4," Comments ",IORVON,IORVOFF)
 ;D SET^IBCNSP(START+1,OFFSET+2,""_$P(IBCABD1,U,8))
 Q
