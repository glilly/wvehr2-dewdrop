GMRGXPRE ;HIRMFO/RM-GMRG PRE-INIT ROUTINE ;9/18/95
 ;;3.0;Text Generator;;Jan 24, 1996
 I $S('$D(DUZ)#2!'$D(DUZ(0)):1,DUZ(0)="@":0,1:1) W !,"The variables DUZ and DUZ(0) must be set initially to continue.",!,"DUZ must be a valid user number, and DUZ(0) must equal @" K DIFQ Q
 I $T(VERSION^XPDUTL)']"" W !!,"KERNEL TOOLKIT V. 7.2 OR GREATER IS REQUIRED - CANNOT CONTINUE:" K DIFQ Q
 S GMRG=+$$VERSION^XPDUTL("KERNEL") I GMRG<7.1 W !!,"KERNEL V. 7.1 OR GREATER IS REQUIRED - CANNOT CONTINUE:" K GMRG,DIFQ Q
 S GMRG=+$$VERSION^XPDUTL("VA FILEMAN") I GMRG<21 W !!,"VA FILEMAN V. 21 OR GREATER IS REQUIRED - CANNOT CONTINUE:" K GMRG,DIFQ Q
 S GMRG=+$$VERSION^XPDUTL("REGISTRATION") I GMRG<5.3 W !!,"PIMS (MAS) V. 5.3 OR GREATER IS REQUIRED - CANNOT CONTINUE:" K GMRG,DIFQ Q
 D PRE^GMRGXAGC
 S GMRGXVER=$$VERSION^XPDUTL("GMRG")
 Q
