FSCFORMB ;SLC/STAFF-NOIS Format Brief ;10/20/97  16:15
 ;;1.1;NOIS;;Sep 06, 1998
 ;
BRIEF ; from FSCFORM
 N CNT,NUM,TEXT K TEXT
 F FIELD="MOD","SITE","SPEC","EDITD","RECD","DEVSTAT","STATUS","PRI","IRM","PHONE" S FIELD(FIELD)=""
 D GET^FSCGET("CUSTOM",CALLNUM,.FIELD)
 D TEXT^FSCFORMT(CALLNUM,.TEXT,7)
 ; setsup FORMAT array from FIELD array, call number, and starting line number into array
 N FORMAT K FORMAT
 D SETTEXT^FSCFORM(1,1,2,"       Module: "_$P($G(FIELD("MOD")),U,2))
 D SETTEXT^FSCFORM(1,2,2,"     Location: "_$P($G(FIELD("SITE")),U,2))
 D SETTEXT^FSCFORM(1,3,2,"      Contact: "_$P($G(FIELD("IRM")),U,2))
 D SETTEXT^FSCFORM(1,4,2,"        Phone: "_$P($G(FIELD("PHONE")),U,2))
 D SETTEXT^FSCFORM(1,5,2,"   Specialist: "_$P($G(FIELD("SPEC")),U,2))
 D SETTEXT^FSCFORM(1,1,47,"      Status: "_$P($G(FIELD("STATUS")),U,2))
 D SETTEXT^FSCFORM(1,2,47,"Status (Ref): "_$P($G(FIELD("DEVSTAT")),U,2))
 D SETTEXT^FSCFORM(1,3,47,"    Priority: "_$P($G(FIELD("PRI")),U,2))
 D SETTEXT^FSCFORM(1,4,47,"First Edited: "_$P($P($G(FIELD("RECD")),U,2),":",1,2))
 D SETTEXT^FSCFORM(1,5,47," Last Edited: "_$P($P($G(FIELD("EDITD")),U,2),":",1,2))
 D SETTEXT^FSCFORM(1,6,1," Description: ",RVON,RVOFF)
 D SETTEXT^FSCFORM(1,6,20,TEXT("D"))
 S CNT=6,NUM=0 F  S NUM=$O(TEXT("D",NUM)) Q:NUM<1  S CNT=CNT+1 D SETTEXT^FSCFORM(1,CNT,1,TEXT("D",NUM))
 D SETTEXT^FSCFORM(2,1,1," Notes: ",RVON,RVOFF)
 D SETTEXT^FSCFORM(2,1,20,TEXT("N"))
 S CNT=1,NUM=0 F  S NUM=$O(TEXT("N",NUM)) Q:NUM<1  S CNT=CNT+1 D SETTEXT^FSCFORM(2,CNT,1,TEXT("N",NUM))
 D SETTEXT^FSCFORM(3,1,1," Resolution: ",RVON,RVOFF)
 D SETTEXT^FSCFORM(3,1,20,TEXT("R"))
 S CNT=1,NUM=0 F  S NUM=$O(TEXT("R",NUM)) Q:NUM<1  S CNT=CNT+1 D SETTEXT^FSCFORM(3,CNT,1,TEXT("R",NUM))
 I TYPE["VIEW" D VIEW^FSCFORMU(LISTNUM,CALLNUM,.FORMAT,STYLE,.LASTLINE,TYPE) Q
 D SETUP^FSCFORMU(LISTNUM,CALLNUM,.FORMAT,STYLE,.LASTLINE,TYPE)
 Q
