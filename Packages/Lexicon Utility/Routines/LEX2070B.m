LEX2070B ;ISL/KER - LEX*2.0*70 Pre/Post Install ;06/09/2010
 ;;2.0;LEXICON UTILITY;**70**;Sep 23, 1996;Build 2
 ;               
 ; Global Variables
 ;    ^DIC(81.3,          ICR   4492
 ;               
 ; External References
 ;    IX1^DIK             ICR  10013
 ;    ^%DT                ICR  10003
 ;               
EN ; Install CPT Ranges for Modifiers LT/RT
 N %DT,DA,DIK,LEX,LEXA,LEXB,LEXD,LEXE,LEXEX,LEXI,LEXLN,LEXM1,LEXM2,LEXN1,LEXN2,LEXND,LEXRIEN,LEXRTN,LEXT,X,Y S (LEXLN,LEXRIEN)=0
 S LEXM1=$O(^DIC(81.3,"B","LT",0)),LEXM2=$O(^DIC(81.3,"B","RT",0)) Q:LEXM1'>0  Q:LEXM2'>0
 F LEXRTN="LEX2070A","LEX2070B","LEX2070C","LEX2070D" D
 . N LEX,LEXT S LEXT="" F LEX=1:1 D  Q:'$L(LEXT)
 . . N LEXEX,LEXB,LEXE,LEXD,LEXA,LEXI,DA,DIK S LEXT="",LEXEX="S LEXT=$T(LR+"_LEX_"^"_LEXRTN_")" X LEXEX I $$TM($TR(LEXT,";",""))="" S LEXT="" Q
 . . S LEXLN=+($G(LEXLN))+1,LEXB=$$TM($P(LEXT,";;",3)),LEXE=$$TM($P(LEXT,";;",4))
 . . S LEXA="",LEXD=$$TM($P(LEXT,";;",5)) S:$L(LEXD) LEXA=$$ID(LEXD) S LEXI="",LEXD=$$TM($P(LEXT,";;",6)) S:$L(LEXD) LEXI=$$ID(LEXD)
 . . Q:$L(LEXB)'=5  Q:$L(LEXE)'=5  Q:'$L(LEXA)  Q:LEXA'?7N  Q:$L(LEXI)&(LEXI'?7N)  S LEXRIEN=+($G(LEXRIEN))+1
 . . S LEXN1="^DIC(81.3,"_LEXM1_",10,"_LEXRIEN_",0)" S LEXN2="^DIC(81.3,"_LEXM2_",10,"_LEXRIEN_",0)"
 . . S LEXND=LEXB_"^"_LEXE_"^"_LEXA S:LEXI?7N LEXND=LEXND_"^"_LEXI
 . . S @LEXN1=LEXND,DA(1)=LEXM1,DA=LEXRIEN,DIK="^DIC(81.3,"_DA(1)_",10," D IX1^DIK
 . . S @LEXN2=LEXND,DA(1)=LEXM2,DA=LEXRIEN,DIK="^DIC(81.3,"_DA(1)_",10," D IX1^DIK
 D CHF^LEX2070D
 ;;LR;;63040;;63040;;01/01/2007
 ;;LR;;63042;;63044;;01/01/2007
 Q
ID(X) ; Internal Date
 S X=$G(X) Q:X?7N X  N %DT,Y S %DT="P" D ^%DT S X=$P(Y,".",1)
 Q X
TM(X,Y) ; Trim Character Y - Default " "
 S X=$G(X) Q:X="" X  S Y=$G(Y) S:'$L(Y) Y=" " F  Q:$E(X,1)'=Y  S X=$E(X,2,$L(X))
 F  Q:$E(X,$L(X))'=Y  S X=$E(X,1,($L(X)-1))
 F  Q:X'[(Y_Y)  S X=$P(X,(Y_Y),1)_Y_$P(X,(Y_Y),2,229)
 Q X
LR ;; Left/Right
 ;;LR;;35473;;35480;;01/01/1999;;01/01/2005
 ;;LR;;35482;;35490;;01/01/1999
 ;;LR;;35492;;35495;;01/01/1999;;01/01/2005
 ;;LR;;35492;;35536;;01/01/2005
 ;;LR;;35501;;35526;;01/01/1999;;01/01/2005
 ;;LR;;35533;;35536;;01/01/1999;;01/01/2005
 ;;LR;;35546;;35546;;01/01/2005
 ;;LR;;35551;;35606;;01/01/1999;;01/01/2005
 ;;LR;;35551;;35636;;01/01/2005
 ;;LR;;35616;;35631;;01/01/1999;;01/01/2005
 ;;LR;;35642;;35645;;01/01/1999
 ;;LR;;35647;;35647;;01/01/2002;;01/01/2003
 ;;LR;;35647;;35651;;01/01/2003
 ;;LR;;35650;;35651;;01/01/1999;;01/01/2003
 ;;LR;;35656;;35671;;01/01/1999;;01/01/2005
 ;;LR;;35656;;35681;;01/01/2005
 ;;LR;;35685;;35686;;01/01/2002;;01/01/2003
 ;;LR;;35685;;35800;;01/01/2003;;01/01/2005
 ;;LR;;35685;;35695;;01/01/2005
 ;;LR;;35691;;35800;;01/01/1999;;01/01/2003
 ;;LR;;35700;;35800;;01/01/2005
 ;;LR;;35860;;35860;;01/01/1999
 ;;LR;;35879;;35881;;01/01/2000
 ;;LR;;36000;;36012;;01/01/2005
 ;;LR;;36002;;36002;;01/01/2002;;01/01/2003
 ;;LR;;36002;;36005;;01/01/2003;;01/01/2005
 ;;LR;;36005;;36005;;01/01/1999;;01/01/2003
 ;;LR;;36011;;36012;;01/01/1999;;01/01/2005
 ;;LR;;36014;;36140;;01/01/1999
 ;;LR;;36200;;36248;;01/01/2005
 ;;LR;;36215;;36248;;01/01/1999;;01/01/2005
 ;;LR;;36468;;36468;;01/01/1999
 ;;LR;;36470;;36471;;01/01/1999;;01/01/2005
 ;;LR;;36470;;36479;;01/01/2005
 ;;LR;;36555;;36597;;01/01/2005
 ;;LR;;36819;;36820;;01/01/2002
 ;;LR;;36838;;36838;;01/01/2005
 ;;LR;;36870;;36870;;01/01/2005
 ;;LR;;37207;;37208;;01/01/2005
 ;;LR;;37500;;37500;;01/01/2003
 ;;LR;;37609;;37609;;01/01/1999
 ;;LR;;37618;;37618;;01/01/1999
 ;;LR;;37650;;37785;;01/01/1999
 ;;LR;;38220;;38221;;01/01/2005
 ;;LR;;38300;;38308;;01/01/1999
 ;;LR;;38500;;38555;;01/01/1999
 ;;LR;;38700;;38745;;01/01/1999
 ;;LR;;38760;;38770;;01/01/1999
 ;;LR;;38790;;38792;;01/01/1999
 ;;LR;;40720;;40720;;01/01/2005
 ;;LR;;42300;;42505;;01/01/1999
 ;;LR;;42550;;42665;;01/01/1999;;01/01/2005
 ;;LR;;42550;;42804;;01/01/2005
 ;;LR;;42700;;42804;;01/01/1999;;01/01/2005
 ;;LR;;42810;;42815;;01/01/1999
 ;;LR;;47511;;47525;;01/01/2005
 ;;LR;;49491;;49525;;01/01/2002;;01/01/2005
 ;;LR;;49491;;49572;;01/01/2005
 ;;LR;;49495;;49525;;01/01/1999
 ;;LR;;49550;;49557;;01/01/1999;;01/01/2005
 ;;LR;;49590;;49590;;01/01/2005
 ;;LR;;49650;;49651;;01/01/2000
 ;;LR;;50010;;50290;;01/01/1999
 ;;LR;;50320;;50340;;01/01/2005
 ;;LR;;50340;;50340;;01/01/1999;;01/01/2005
 ;;LR;;50365;;50365;;01/01/2002
 ;;LR;;50390;;50526;;01/01/1999
 ;;LR;;50541;;50546;;01/01/2000;;01/01/2005
 ;;LR;;50541;;50722;;01/01/2005
 ;;LR;;50548;;50548;;01/01/2000;;01/01/2005
 ;;LR;;50551;;50722;;01/01/1999;;01/01/2005
 ;;LR;;50740;;50760;;01/01/1999
 ;;LR;;50780;;50800;;01/01/1999
 ;;LR;;50815;;50820;;01/01/1999
 ;;LR;;50830;;50840;;01/01/1999
 ;;LR;;50860;;50980;;01/01/1999;;01/01/2001
 ;;LR;;50860;;50948;;01/01/2001;;01/01/2005
 ;;LR;;50860;;50980;;01/01/2005
 ;;LR;;50951;;50980;;01/01/2001;;01/01/2005
 ;;LR;;51535;;51535;;01/01/1999
 ;;LR;;52005;;52005;;01/01/1999
 ;;LR;;52005;;52010;;01/01/2002;;01/01/2005
 ;;LR;;52005;;52007;;01/01/2005
 ;;LR;;52320;;52325;;01/01/1999;;
 ;;LR;;52320;;52346;;01/01/2002;;01/01/2004
 ;;LR;;52320;;52334;;01/01/2004;;01/01/2005
 ;;LR;;52320;;52355;;01/01/2005
 ;;LR;;52330;;52332;;01/01/1999;;01/01/2001
 ;;LR;;52330;;52355;;01/01/2001
 ;;LR;;52341;;52346;;01/01/2004;;01/01/2005
 ;;LR;;52351;;52355;;01/01/2002;;01/01/2005
 ;;LR;;54500;;54560;;01/01/1999;;01/01/2003
 ;;LR;;54500;;54505;;01/01/2003;;01/01/2005
 ;;LR;;54500;;54840;;01/01/2005
 ;;LR;;54512;;54560;;01/01/2003;;01/01/2005
 ;;LR;;54640;;54670;;01/01/1999;;01/01/2005
 ;;LR;;54690;;54692;;01/01/2000;;01/01/2005
 ;;LR;;54700;;54840;;01/01/1999;;01/01/2005
 ;;LR;;55000;;55000;;01/01/1999
 ;;LR;;55060;;55060;;01/01/1999
 ;;LR;;55400;;55400;;01/01/1999
 ;;LR;;55500;;55540;;01/01/1999;;01/01/2005
 ;;LR;;55500;;55680;;01/01/2005
 ;;LR;;55600;;55680;;01/01/1999;;01/01/2005
 ;;LR;;56316;;56318;;01/01/1999;;01/01/2001
 ;;LR;;56321;;56321;;01/01/1999;;01/01/2001
 ;;LR;;56343;;56344;;01/01/1999;;01/01/2001
 ;;LR;;56420;;56440;;01/01/2003
 ;;LR;;56640;;56640;;01/01/1999
 ;;LR;;57267;;57267;;01/01/2005
 ;;LR;;58345;;58345;;01/01/1999
 ;;LR;;58353;;58356;;01/01/2005
 ;;LR;;58661;;58662;;01/01/2003;;01/01/2004
 ;;LR;;58661;;58661;;01/01/2005
 ;;LR;;58672;;58673;;01/01/2000
 ;;LR;;58750;;58770;;01/01/1999
 ;;LR;;60540;;60650;;01/01/2000
 ;;LR;;61020;;61026;;01/01/1999
 ;;LR;;61106;;61106;;01/01/1999;;01/01/2001
 ;;LR;;61130;;61130;;01/01/1999;;01/01/2001
 ;;LR;;61154;;61154;;01/01/2002
 ;;LR;;61250;;61250;;01/01/2002
 ;;LR;;61330;;61340;;01/01/1999
 ;;LR;;61490;;61490;;01/01/2002
 ;;LR;;61543;;61545;;01/01/1999
 ;;LR;;61580;;61581;;01/01/2005
 ;;LR;;61584;;61585;;01/01/2005
 ;;LR;;61590;;61597;;01/01/2005
 ;;LR;;61609;;61613;;01/01/2005
 ;;LR;;61623;;61623;;01/01/2003
 ;;LR;;61626;;61626;;01/01/1999
 ;;LR;;61863;;61868;;01/01/2005
 ;;LR;;61880;;61885;;01/01/2005
 ;;LR;;61888;;61888;;01/01/2005
 ;;LR;;63020;;63042;;01/01/1999;;01/01/2001
 ;;LR;;63020;;63044;;01/01/2001
 ;;LR;;63048;;63048;;01/01/2005
 ;;LR;;63191;;63191;;01/01/1999
 ;;LR;;63661;;63664;;01/01/2010
 ;;LR;;64400;;64435;;01/01/1999;;01/01/2003
 ;;LR;;64400;;64520;;01/01/2003;;01/01/2005
 ;;LR;;64400;;64510;;01/01/2005
 ;;LR;;64442;;64520;;01/01/1999;;01/01/2001
 ;;LR;;64445;;64520;;01/01/2002;;01/01/2003
 ;;LR;;64520;;64520;;01/01/2005
 ;;LR;;64550;;64585;;01/01/1999
 ;;LR;;64612;;64612;;01/01/2004
 ;;LR;;64614;;64614;;01/01/2005
 ;;LR;;64622;;64627;;01/01/2000
 ;;LR;;64640;;64640;;01/01/1999
 ;;LR;;64702;;64726;;01/01/1999
 ;;LR;;64732;;64744;;01/01/1999
 ;;LR;;64761;;64820;;01/01/1999
 ;;LR;;64761;;64861;;01/01/2002;;01/01/2003
 ;;LR;;64761;;64823;;01/01/2003
 ;;LR;;64831;;64861;;01/01/1999
 ;;LR;;64832;;64861;;01/01/2003
 ;;LR;;64864;;64907;;01/01/1999;;01/01/2005
 ;;LR;;64864;;67800;;01/01/2005
 ;;;;;;;;;;
