YSESED ;SLC/DCM-ADD/EDIT/DELETE/LINK DECISION SUPPORT FRAMES ; 6/28/89  10:36 ;
 ;;5.01;MENTAL HEALTH;;Dec 30, 1994
 ;DECISION EXPERT SYSTEM (VERSION 1.0) - DWIGHT MCDANIEL / REGION 5 ISC, SLC
PUSH ;
 S ST=ST+1,SDIC(ST)=DIC,SDIC0(ST)=DIC(0),ESDBP(ST)=ESDBP,ESDBP1(ST)=ESDBP1 Q
POP ;
 S DIC=SDIC(ST),DIC(0)=SDIC0(ST),ESDBP=ESDBP(ST),ESDBP1=ESDBP1(ST) K SDIC(ST),SDIC0(ST),ESDBP(ST),ESDBP1(ST) S ST=ST-1 Q
 ;
ED ;  Called by routine YSESE
 S NODE1="^628.23^^0",DR(2,628.02)="1",DR(3,628.23)=".01:4" ; ADD/EDIT/LINK/DELETE AN INTERNAL ALGORITHM NODE
 W @IOF,!!?18,"ADD/EDIT/LINK/DELETE DECISION ALGORITHM NODE",!?(80-($L(A5ALG)+4)\2),"<< ",A5ALG," >>",!!
ED1 S DIC("A")="Select a Node: ",DIC=ESDBP_GN1_",2,",DLAYGO=628,DIC(0)="AELMQZ",DA(1)=GN1,DA(2)=GN,DA=$S($D(@(ESDBP_GN1_",2,0)")):$P(@(ESDBP_GN1_",2,0)"),U,4),1:1)
 I '$D(@(DIC_"0)")) S @(DIC_"0)")=NODE1,DA=0
 D ^DIC S DA=$P(Y,U),X=$P(Y,U,2)
 I Y<1 K DIE,DR,DA,NODE1,Y Q
 S DR=".01:5",DIE=DIC D ^DIE
 G ED1
