YSPP6 ;ALB/ASF-PATIENT PSYCHIATRIC DATA ;4/26/90  11:56 ;
 ;;5.01;MENTAL HEALTH;;Dec 30, 1994
 ;
ENPR ;Entry to core of print program.
 S YSPPF=1,A="D",YSTY="ALL",YSFHDR="Diagnosis List <<section 7>>",YSFHDR(1)="W !!,""DSM/ICD9 TITLE"" X YSFHDR(2),YSFHDR(3)",YSFHDR(2)="I YSTY=""ACT"" W ""Only Active Diagnosis""",YSFHDR(3)="W !,""STATUS"",?10,""DATE""" S YSPP=0
PR ;
 U IO D:'$D(YSNOFORM) ENHD^YSFORM S Y1=0,YST=$S(IOST?1"P".E:1,1:0),YSSL=$S(YST:8,1:3),YSLFT=0
 D DXLS^YSDX3RUA,DX^YSDX3RU:"Dd"[A,CHR^YSDX3RU:"Cc"[A I $D(YSLFT) G:YSLFT=1 CLN
 Q:$G(YSLFT)=1  D AX5^YSDX3RUA
 I '$D(YSCENN) D:$D(PROFILE)&(IOST?1"C-".E) WAIT1^YSUTL
CLN ;
 K YSAX4,YSD3FLG,YSDIFLG,YSDXNN,YSDXN,YSML,YSMOD,YSDXDT,TOTSET,SUBSET,YSAUTH,YSCD,YSCOND,YSDXS,YSFTR,YSGAF,YSLC,YSPP,YSPS,YSSL,YSSTOP,YSTM,YSTOP1,YSTOP2,YSTY,YSQT,Z,YSFHDR,YSPPF Q
 ;
ENCE ; Called indirectly from YSCEN31
 ;
 S YSNOFORM=1 D ENPR K YSNOFORM
