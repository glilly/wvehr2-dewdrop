RMPRPIXD ;HINCIO/ODJ - PROSTHETIC ITEM MASTER FILE 661.1 APIs ;3/8/01
 ;;3.0;PROSTHETICS;**61**;Feb 09, 1996
 Q
 ;
 ;***** GET - read Item Master 661 record
GET(RMPR) ;
 N RMPRCRE,RMPRFME,RMPROUP,RMPRIEN,X,Y,DA,RMPRI
 S RMPRCRE=0
 S RMPRIEN=RMPR("IEN")_","
 D GETS^DIQ(661,RMPRIEN,"*","","RMPROUP","RMPRFME")
 I $D(RMPRFME) S RMPRCRE=1 G GETX
 S RMPR("ITEM MASTER")=RMPROUP(661,RMPRIEN,.01)
 S RMPRCRE=$$ETOI(.RMPR,.RMPRI)
 S RMPR("ITEM MASTER IEN")=RMPRI("ITEM MASTER IEN")
GETX Q RMPRCRE
 ;
 ;***** ETOI - Convert external to internal form
ETOI(RMPRE,RMPRI) ;
 N RMPRFDA,RMPRIEN,RMPRFDI,RMPRFME,RMPRERR,X,Y,DA
 S RMPRERR=0
 S RMPRIEN=RMPRE("IEN")_","
 D GETS^DIQ(661,RMPRIEN,"*","I","RMPRFDI","RMPRFME")
 I $D(RMPRFME) S RMPRERR=1 G ETOIX
 S RMPRI("IEN")=RMPRE("IEN")
 S RMPRI("ITEM MASTER IEN")=RMPRFDI(661,RMPRIEN,.01,"I")
ETOIX Q RMPRERR
