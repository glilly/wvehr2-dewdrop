IBY221P ;ALB/ARH/MAF - OCCURRENCE CODES:  FILE IN 399.1 - POST INIT ; 5/1/97
 ;;2.0;INTEGRATED BILLING;**221**;21-MAR-94
 ;
OC ; Add Occurrence Codes to 399.1 (#.11 - p4)
 D BMES^XPDUTL("Updating file 399.1 MCCR UTILITY with new occurrence codes...")
 D MES^XPDUTL("   ")
 N DLAYGO,DIC,DIE,DD,DO,DA,DR,X,Y,IBA,IBFL,IBI,IBLN,IBCNT,IBFN S IBCNT=0
 ;
 F IBI=1:1 S IBLN=$P($T(OCF+IBI),";;",2) Q:IBLN=""  I $E(IBLN)'=" " S $P(IBLN,U,2)=$S($P(IBLN,U,2)="STATE":"RZD FOR STATE ASSIGNMENT",$P(IBLN,U,2)="NATIONAL":"RZD FOR NATIONAL ASSIGNMENT",1:$P(IBLN,U,2)) D
 . ;
 . I +$$MCCRUTL($P(IBLN,U,1),4) S IBFL=0 D SET Q
 . ;
 . K DD,DO S DLAYGO=399.1,DIC="^DGCR(399.1,",DIC(0)="L",X=$P(IBLN,U,2) D FILE^DICN K DIC I Y<1 K X,Y Q
 . S IBFN=+Y,IBCNT=IBCNT+1
 . ;
 . S DR=".02////"_$P(IBLN,U,1)_";.11////"_1_";.16////"_$P(IBLN,U,4)_";.17////"_$P(IBLN,U,5)
 . S DIE="^DGCR(399.1,",DA=+IBFN D ^DIE K DIE,DA,DR,X,Y
 . S IBFL=1 D SET
 ;
BSQ S IBA(1)="      *  "_IBCNT_" Occurrence Codes added (#399.1)"
 D BMES^XPDUTL(.IBA)
 Q
 ;
MCCRUTL(X,P) ; returns IFN of item in 399.1 if Code is found and piece P is true
 ;
 N IBX,IBY S IBY=""
 I $G(X)'="" S IBX=0 F  S IBX=$O(^DGCR(399.1,"C",X,IBX)) Q:'IBX  I $P($G(^DGCR(399.1,IBX,0)),U,+$G(P)) S IBY=IBX
 Q IBY
 ;
SET ; SET IBA() FOR DISPLAY 
 S IBA(IBI)="  "_$P(IBLN,U,1)_"    "_$P(IBLN,U,2)_"    "_$S(IBFL=1:"*** Code Added ***",1:"*** Duplicate ***")
 Q
 ;
 ;
OCF ; occurrence codes (399.1)   CODE^CODE NAME^SPAN^10 HCFA^OSC
 ;; 
 ;;16^DATE OF LAST THERAPY^1^^
 ;;23^DATE OF CANCELLATION OF HOSPICE ELECTION PERIOD^1^^
 ;;47^DATE COST OUTLIER STATUS BEGINS^1^^
 ;;48^PAYER CODES^1^^
 ;;49^PAYER CODES^1^^
 ;;M2^PATIENT RESPITE DATES^1^^1
 ;;50^STATE^1^^
 ;;51^STATE^1^^
 ;;52^STATE^1^^
 ;;53^STATE^1^^
 ;;54^STATE^1^^
 ;;55^STATE^1^^
 ;;56^STATE^1^^
 ;;57^STATE^1^^
 ;;58^STATE^1^^
 ;;59^STATE^1^^
 ;;60^STATE^1^^
 ;;61^STATE^1^^
 ;;62^STATE^1^^
 ;;63^STATE^1^^
 ;;64^STATE^1^^
 ;;65^STATE^1^^
 ;;66^STATE^1^^
 ;;67^STATE^1^^
 ;;68^STATE^1^^
 ;;69^STATE^1^^
 ;;80^STATE^1^^1
 ;;81^STATE^1^^1
 ;;82^STATE^1^^1
 ;;83^STATE^1^^1
 ;;84^STATE^1^^1
 ;;85^STATE^1^^1
 ;;86^STATE^1^^1
 ;;87^STATE^1^^1
 ;;88^STATE^1^^1
 ;;89^STATE^1^^1
 ;;90^STATE^1^^1
 ;;91^STATE^1^^1
 ;;92^STATE^1^^1
 ;;93^STATE^1^^1
 ;;94^STATE^1^^1
 ;;95^STATE^1^^1
 ;;96^STATE^1^^1
 ;;97^STATE^1^^1
 ;;98^STATE^1^^1
 ;;99^STATE^1^^1
 ;;J0^STATE^1^^
 ;;J1^STATE^1^^
 ;;J2^STATE^1^^
 ;;J3^STATE^1^^
 ;;J4^STATE^1^^
 ;;J5^STATE^1^^
 ;;J6^STATE^1^^
 ;;J7^STATE^1^^
 ;;J8^STATE^1^^
 ;;J9^STATE^1^^
 ;;K0^STATE^1^^
 ;;K1^STATE^1^^
 ;;K2^STATE^1^^
 ;;K3^STATE^1^^
 ;;K4^STATE^1^^
 ;;K5^STATE^1^^
 ;;K6^STATE^1^^
 ;;K7^STATE^1^^
 ;;K8^STATE^1^^
 ;;K9^STATE^1^^
 ;;L0^STATE^1^^
 ;;L1^STATE^1^^
 ;;L2^STATE^1^^
 ;;L3^STATE^1^^
 ;;L4^STATE^1^^
 ;;L5^STATE^1^^
 ;;L6^STATE^1^^
 ;;L7^STATE^1^^
 ;;L8^STATE^1^^
 ;;L9^STATE^1^^
 ;;X0^STATE^1^^1
 ;;X1^STATE^1^^1
 ;;X2^STATE^1^^1
 ;;X3^STATE^1^^1
 ;;X4^STATE^1^^1
 ;;X5^STATE^1^^1
 ;;X6^STATE^1^^1
 ;;X7^STATE^1^^1
 ;;X8^STATE^1^^1
 ;;X9^STATE^1^^1
 ;;Y0^STATE^1^^1
 ;;Y1^STATE^1^^1
 ;;Y2^STATE^1^^1
 ;;Y3^STATE^1^^1
 ;;Y4^STATE^1^^1
 ;;Y5^STATE^1^^1
 ;;Y6^STATE^1^^1
 ;;Y7^STATE^1^^1
 ;;Y8^STATE^1^^1
 ;;Y9^STATE^1^^1
 ;;Z0^STATE^1^^1
 ;;Z1^STATE^1^^1
 ;;Z2^STATE^1^^1
 ;;Z3^STATE^1^^1
 ;;Z4^STATE^1^^1
 ;;Z5^STATE^1^^1
 ;;Z6^STATE^1^^1
 ;;Z7^STATE^1^^1
 ;;Z8^STATE^1^^1
 ;;Z9^STATE^1^^1
 ;;07^NATIONAL^1^^
 ;;08^NATIONAL^1^^
 ;;13^NATIONAL^1^^
 ;;14^NATIONAL^1^^
 ;;15^NATIONAL^1^^
 ;;A0^NATIONAL^1^^
 ;;A4^NATIONAL^1^^
 ;;A5^NATIONAL^1^^
 ;;A6^NATIONAL^1^^
 ;;A7^NATIONAL^1^^
 ;;A8^NATIONAL^1^^
 ;;A9^NATIONAL^1^^
 ;;B0^NATIONAL^1^^
 ;;B4^NATIONAL^1^^
 ;;B5^NATIONAL^1^^
 ;;B6^NATIONAL^1^^
 ;;B7^NATIONAL^1^^
 ;;B8^NATIONAL^1^^
 ;;B9^NATIONAL^1^^
 ;;C0^NATIONAL^1^^
 ;;C4^NATIONAL^1^^
 ;;C5^NATIONAL^1^^
 ;;C6^NATIONAL^1^^
 ;;C7^NATIONAL^1^^
 ;;C8^NATIONAL^1^^
 ;;C9^NATIONAL^1^^
 ;;D0^NATIONAL^1^^
 ;;D1^NATIONAL^1^^
 ;;D2^NATIONAL^1^^
 ;;D3^NATIONAL^1^^
 ;;D4^NATIONAL^1^^
 ;;D5^NATIONAL^1^^
 ;;D6^NATIONAL^1^^
 ;;D7^NATIONAL^1^^
 ;;D8^NATIONAL^1^^
 ;;D9^NATIONAL^1^^
 ;;E0^NATIONAL^1^^
 ;;E4^NATIONAL^1^^
 ;;E5^NATIONAL^1^^
 ;;E6^NATIONAL^1^^
 ;;E7^NATIONAL^1^^
 ;;E8^NATIONAL^1^^
 ;;E9^NATIONAL^1^^
 ;;F0^NATIONAL^1^^
 ;;F4^NATIONAL^1^^
 ;;F5^NATIONAL^1^^
 ;;F6^NATIONAL^1^^
 ;;F7^NATIONAL^1^^
 ;;F8^NATIONAL^1^^
 ;;F9^NATIONAL^1^^
 ;;G0^NATIONAL^1^^
 ;;G4^NATIONAL^1^^
 ;;G5^NATIONAL^1^^
 ;;G6^NATIONAL^1^^
 ;;G7^NATIONAL^1^^
 ;;G8^NATIONAL^1^^
 ;;G9^NATIONAL^1^^
 ;;H0^NATIONAL^1^^
 ;;H1^NATIONAL^1^^
 ;;H2^NATIONAL^1^^
 ;;H3^NATIONAL^1^^
 ;;H4^NATIONAL^1^^
 ;;H5^NATIONAL^1^^
 ;;H6^NATIONAL^1^^
 ;;H7^NATIONAL^1^^
 ;;H8^NATIONAL^1^^
 ;;H9^NATIONAL^1^^
 ;;I0^NATIONAL^1^^
 ;;I1^NATIONAL^1^^
 ;;I2^NATIONAL^1^^
 ;;I3^NATIONAL^1^^
 ;;I4^NATIONAL^1^^
 ;;I5^NATIONAL^1^^
 ;;I6^NATIONAL^1^^
 ;;I7^NATIONAL^1^^
 ;;I8^NATIONAL^1^^
 ;;I9^NATIONAL^1^^
 ;;M3^NATIONAL^1^^1
 ;;M4^NATIONAL^1^^1
 ;;M5^NATIONAL^1^^1
 ;;M6^NATIONAL^1^^1
 ;;M7^NATIONAL^1^^1
 ;;M8^NATIONAL^1^^1
 ;;M9^NATIONAL^1^^1
 ;;N0^NATIONAL^1^^1
 ;;N1^NATIONAL^1^^1
 ;;N2^NATIONAL^1^^1
 ;;N3^NATIONAL^1^^1
 ;;N4^NATIONAL^1^^1
 ;;N5^NATIONAL^1^^1
 ;;N6^NATIONAL^1^^1
 ;;N7^NATIONAL^1^^1
 ;;N8^NATIONAL^1^^1
 ;;N9^NATIONAL^1^^1
 ;;O0^NATIONAL^1^^1
 ;;O1^NATIONAL^1^^1
 ;;O2^NATIONAL^1^^1
 ;;O3^NATIONAL^1^^1
 ;;O4^NATIONAL^1^^1
 ;;O5^NATIONAL^1^^1
 ;;O6^NATIONAL^1^^1
 ;;O7^NATIONAL^1^^1
 ;;O8^NATIONAL^1^^1
 ;;O9^NATIONAL^1^^1
 ;;P0^NATIONAL^1^^1
 ;;P1^NATIONAL^1^^1
 ;;P2^NATIONAL^1^^1
 ;;P3^NATIONAL^1^^1
 ;;P4^NATIONAL^1^^1
 ;;P5^NATIONAL^1^^1
 ;;P6^NATIONAL^1^^1
 ;;P7^NATIONAL^1^^1
 ;;P8^NATIONAL^1^^1
 ;;P9^NATIONAL^1^^1
 ;;Q0^NATIONAL^1^^1
 ;;Q1^NATIONAL^1^^1
 ;;Q2^NATIONAL^1^^1
 ;;Q3^NATIONAL^1^^1
 ;;Q4^NATIONAL^1^^1
 ;;Q5^NATIONAL^1^^1
 ;;Q6^NATIONAL^1^^1
 ;;Q7^NATIONAL^1^^1
 ;;Q8^NATIONAL^1^^1
 ;;Q9^NATIONAL^1^^1
 ;;R0^NATIONAL^1^^1
 ;;R1^NATIONAL^1^^1
 ;;R2^NATIONAL^1^^1
 ;;R3^NATIONAL^1^^1
 ;;R4^NATIONAL^1^^1
 ;;R5^NATIONAL^1^^1
 ;;R6^NATIONAL^1^^1
 ;;R7^NATIONAL^1^^1
 ;;R8^NATIONAL^1^^1
 ;;R9^NATIONAL^1^^1
 ;;S0^NATIONAL^1^^1
 ;;S1^NATIONAL^1^^1
 ;;S2^NATIONAL^1^^1
 ;;S3^NATIONAL^1^^1
 ;;S4^NATIONAL^1^^1
 ;;S5^NATIONAL^1^^1
 ;;S6^NATIONAL^1^^1
 ;;S7^NATIONAL^1^^1
 ;;S8^NATIONAL^1^^1
 ;;S9^NATIONAL^1^^1
 ;;T0^NATIONAL^1^^1
 ;;T1^NATIONAL^1^^1
 ;;T2^NATIONAL^1^^1
 ;;T3^NATIONAL^1^^1
 ;;T4^NATIONAL^1^^1
 ;;T5^NATIONAL^1^^1
 ;;T6^NATIONAL^1^^1
 ;;T7^NATIONAL^1^^1
 ;;T8^NATIONAL^1^^1
 ;;T9^NATIONAL^1^^1
 ;;U0^NATIONAL^1^^1
 ;;U1^NATIONAL^1^^1
 ;;U2^NATIONAL^1^^1
 ;;U3^NATIONAL^1^^1
 ;;U4^NATIONAL^1^^1
 ;;U5^NATIONAL^1^^1
 ;;U6^NATIONAL^1^^1
 ;;U7^NATIONAL^1^^1
 ;;U8^NATIONAL^1^^1
 ;;U9^NATIONAL^1^^1
 ;;V0^NATIONAL^1^^1
 ;;V1^NATIONAL^1^^1
 ;;V2^NATIONAL^1^^1
 ;;V3^NATIONAL^1^^1
 ;;V4^NATIONAL^1^^1
 ;;V5^NATIONAL^1^^1
 ;;V6^NATIONAL^1^^1
 ;;V7^NATIONAL^1^^1
 ;;V8^NATIONAL^1^^1
 ;;V9^NATIONAL^1^^1
 ;;W0^NATIONAL^1^^1
 ;;W1^NATIONAL^1^^1
 ;;W2^NATIONAL^1^^1
 ;;W3^NATIONAL^1^^1
 ;;W4^NATIONAL^1^^1
 ;;W5^NATIONAL^1^^1
 ;;W6^NATIONAL^1^^1
 ;;W7^NATIONAL^1^^1
 ;;W8^NATIONAL^1^^1
 ;;W9^NATIONAL^1^^1
