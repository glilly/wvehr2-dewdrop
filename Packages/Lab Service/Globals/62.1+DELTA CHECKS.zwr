DELTA CHECKS
ZWR
^LAB(62.1,0)="DELTA CHECKS^62.1^41^22"
^LAB(62.1,1,0)="ABS VALUE"
^LAB(62.1,1,1)="Q:X=""""!(X1="""")!(+X2=0)!(X?.A)  S Y=0,X3=X-X1 S:X3<0 X3=-X3 I X3>X2 S Y=1 W "" << DELTA CHECK >> "",*7,X3"
^LAB(62.1,1,3,0)="^^6^6^2860716^^^"
^LAB(62.1,1,3,1,0)="Compares the entered value with the last reported value for the test and if"
^LAB(62.1,1,3,2,0)="+ or - the difference is greater than the DELTA VALUE, a warning will be"
^LAB(62.1,1,3,3,0)="displayed.  No check is performed if the entry is 'null', the previous"
^LAB(62.1,1,3,4,0)="value was not entered, there is no numeric DELTA VALUE entered, the entry"
^LAB(62.1,1,3,5,0)="is text, or the previous value was older than the DAYS BACK FOR DELTA"
^LAB(62.1,1,3,6,0)="CHECKS."
^LAB(62.1,2,0)="PERCENT"
^LAB(62.1,2,1)="Q:(+X=0)!(+X1=0)!(+X2=0)!(X?.A)  S Y=0,X3=(X-X1)/X1*100 S:X3<0 X3=-X3 I X3>X2 S Y=1 W "" << DELTA CHECK >> "",$J(X3,2,0)"
^LAB(62.1,2,3,0)="^^2^2^2860716^"
^LAB(62.1,2,3,1,0)="Similar to ABS VALUE delta check except the % change will be displayed."
^LAB(62.1,2,3,2,0)="If you use this the DELTA VALUE should also be a percentage."
^LAB(62.1,3,0)="HGB"
^LAB(62.1,3,1)="S:'$D(LRHGB)&$D(X) LRHGB=X X ^LAB(62.1,1,1)"
^LAB(62.1,3,3,0)="^^2^2^2860719^"
^LAB(62.1,3,3,1,0)="Must be used in conjunction with the HCT delta check."
^LAB(62.1,3,3,2,0)="ABS VALUE delta check is also done."
^LAB(62.1,4,0)="HCT"
^LAB(62.1,4,1)="X ^LAB(62.1,1,1) Q:'$D(LRHGB)!'$D(X)  S X1=3*LRHGB K LRHGB IF (X<(X1-2))!(X>(X1+2)) W !,*7,""==> CHECK HCT AND HGB VALUES <=="",!"
^LAB(62.1,4,3,0)="^^5^5^2860719^"
^LAB(62.1,4,3,1,0)="Checks if the hematocrit value is 3 times the hemoglobin + or - 2."
^LAB(62.1,4,3,2,0)="Could be used on the test HCT (must also have the HGB delta check setup"
^LAB(62.1,4,3,3,0)="on the test HGB).  Will not be checked if HGB delta check was not done"
^LAB(62.1,4,3,4,0)="first (ie. HGB should be before HCT in the CBC panel) or if no value"
^LAB(62.1,4,3,5,0)="is entered for HCT.  ABS VALUE delta check is also done."
^LAB(62.1,5,0)="MCHC"
^LAB(62.1,5,1)="X ^LAB(62.1,1,1) Q:'$D(X)  W:X>36 !,*7,""==> CHECK MCHC VALUE <=="",!"
^LAB(62.1,5,3,0)="^^2^2^2860719^"
^LAB(62.1,5,3,1,0)="Could be used on the test, MCHC.  Displays a warning if the MCHC is > 36."
^LAB(62.1,5,3,2,0)="The ABS VALUE delta check is also done."
^LAB(62.1,17,0)="CREATININE CLEARANCE"
^LAB(62.1,17,1)="X:$L(X) ^LAB(62.1,1,1) Q:$L(X)  R !,""URINE CREATININE: "",X,""  BLOOD CREATININE: "",X1,""  DILUTION: "",X2,""  URINE VOLUME: "",X3,""  TIME: "",X4 S X=X*X2*X3/X1/X4 W ""  CLEARANCE IS: "",X"
^LAB(62.1,17,3,0)="^^7^7^2940921^^^^"
^LAB(62.1,17,3,1,0)="Could be used to prompt for values to display a Calculated CREATININE"
^LAB(62.1,17,3,2,0)="CLEARANCE.  It WILL NOT stuff any result."
^LAB(62.1,17,3,3,0)="If no result is entered then URINE CREATININE, BLOOD CREATININE, DILUTION,"
^LAB(62.1,17,3,4,0)="URINE VOLUME, and TIME are prompted.  The CLEARANCE is then displayed."
^LAB(62.1,17,3,5,0)="You must then manually enter this result."
^LAB(62.1,17,3,6,0)="The calculation is ((URINE CREAT * DILUTION * VOLUME) / BLOOD CREAT) / TIME"
^LAB(62.1,17,3,7,0)="The ABS VALUE delta check is also done."
^LAB(62.1,21,0)="NORM1"
^LAB(62.1,21,1)="S:X[""Y"" LRSKIP=""^MICROCYTOSIS"" S:X[""N"" X="""""
^LAB(62.1,21,3,0)="3^^3^3^2861217^"
^LAB(62.1,21,3,1,0)="Could be used on the test, NORMOCYTIC.  If the entry contains a 'Y'"
^LAB(62.1,21,3,2,0)="the next prompt will be MICROCYTOSIS; otherwise, it will be the next"
^LAB(62.1,21,3,3,0)="test in the sequence of the panel."
^LAB(62.1,22,0)="NORM2"
^LAB(62.1,22,1)="S:X[""Y"" LRSKIP=""^"" S:X[""N"" X="""""
^LAB(62.1,22,3,0)="^^3^3^2860716^"
^LAB(62.1,22,3,1,0)="Could be use on the test, NORMOCHROMIC.  If the entry contains a 'Y'"
^LAB(62.1,22,3,2,0)="the other tests in the panel would be skipped and prompt with COMMENT;"
^LAB(62.1,22,3,3,0)="otherwise, it will prompt the next test in the panel."
^LAB(62.1,23,0)="URIC ACID"
^LAB(62.1,23,1)="Q:X=""""!(X[""c"")  R ""  Enter mls urine/24 hr: "",X3 W:X3'>0 ""VALUE MUST BE GREATER THAN ZERO"" S:X3>0 X=$J(X*X3/100,0,2)_""c"""
^LAB(62.1,23,3,0)="^^6^6^2860719^^"
^LAB(62.1,23,3,1,0)="Could be used on the test, URIC ACID, under the Site/Specimen of URINE."
^LAB(62.1,23,3,2,0)="After accepting the value for the URIC ACID, the urine volume will be  "
^LAB(62.1,23,3,3,0)="prompted.  Upon receiving a positive numeric result the URIC ACID result"
^LAB(62.1,23,3,4,0)="will be converted to units/24 hrs."
^LAB(62.1,23,3,5,0)="The calculation is (URIC ACID * VOL/24 HRS) / 100"
^LAB(62.1,23,3,6,0)="The result is displayed to 2 decimal places and has a 'c' after it."
^LAB(62.1,24,0)="DIFFINIT"
^LAB(62.1,24,1)="K %X S %X=X,LREXEC=""ABS VALUE"" D DELTA^LREXEC"
^LAB(62.1,25,0)="DIFFSUM"
^LAB(62.1,25,1)="S:'$D(%X) %X=0 S %X=%X+X,LREXEC=""ABS VALUE"" D DELTA^LREXEC"
^LAB(62.1,26,0)="DIFFANS"
^LAB(62.1,26,1)="Q:'$D(%X)  S %X=%X+X,LREXEC=""ABS VALUE"" D DELTA^LREXEC W:%X'=100&(%X'=0) !,*7,""   DIFFS DO NOT ADD TO 100"",! K %X"
^LAB(62.1,27,0)="PLT. EST"
^LAB(62.1,27,1)="X ^LAB(62.1,27,2) I $D(X),LRIDTX]"""" S LRPL=$P(^(392),""^"",1) S:X=""A""&(LRPL>$P(^LAB(60,9,1,70,0),""^"",2))&(LRPL<420.1) R=1 S:X=""R""&(LRPL<140.1) R=1 S:X=""I""&(LRPL>419.9) R=1 W ""  PLT COUNT: "",LRPL W:'$D(R) *7,""  **CHECK PLT. EST**"" K R"
^LAB(62.1,27,2)="S LRIDTX=$S($D(^LRO(68,10,1,LRAD,1,LRAN,3)):9999999-^(3),1:"""") S:'$D(^LR(LRDFN,""CH"",+LRIDTX,392)) LRIDTX="""" Q"
^LAB(62.1,27,3,0)="^^6^6^2860719^"
^LAB(62.1,27,3,1,0)="Could be used on the test, PLT. EST.  Checks if a platelet count was"
^LAB(62.1,27,3,2,0)="verified on this accession and if so, displays that value."
^LAB(62.1,27,3,3,0)="If PLT. EST is 'R' and PLT > 140"
^LAB(62.1,27,3,4,0)="or PLT. EST is 'I' and PLT < 420"
^LAB(62.1,27,3,5,0)="or PLT. EST is 'A' and PLT > 420 or PLT < Ref Low"
^LAB(62.1,27,3,6,0)="then a warning will be displayed."
^LAB(62.1,28,0)="LYMPH %"
^LAB(62.1,28,1)="X ^LAB(62.1,25,1) S LRIDTX=$S($D(^LRO(68,10,1,LRAD,1,LRAN,3)):9999999-^(3),1:"""") Q:LRIDTX=""""  Q:'$D(^LR(LRDFN,""CH"",LRIDTX,502))  I $D(X) S X3=$P(^(502),""^"",1) I X3>0 S X2=X-X3 S:X2<0 X2=-X2 I $S(X<20:3,X>50:20,1:5)<X2 W *7,""  coulter sez: "",X3"
^LAB(62.1,28,3,0)="^^8^8^2860719^"
^LAB(62.1,28,3,1,0)="Could be used on the test LYMPHS.  Checks to see if a LYMPH % test has been"
^LAB(62.1,28,3,2,0)="verified (LYMPH % is an estimated differential count from a Coulter +2)"
^LAB(62.1,28,3,3,0)="and if so, checks:"
^LAB(62.1,28,3,4,0)="if LYMPHS < 20 and difference between LYMPHS and LYMPH % is > 3"
^LAB(62.1,28,3,5,0)="or LYMPHS > 50 and difference between LYMPHS and LYMPH % is > 20"
^LAB(62.1,28,3,6,0)="or difference between LYMPHS and LYMPH % is > 5"
^LAB(62.1,28,3,7,0)="then a warning will be displayed."
^LAB(62.1,28,3,8,0)="The DIFFSUM delta check is also done."
^LAB(62.1,29,0)="A1C"
^LAB(62.1,29,1)="S G6=0 F G=1:1:5 S G6=$O(^LR(LRDFN,""CH"",G6)) Q:G6=""""  Q:'$D(^LR(LRDFN,""CH"",G6,2))  W !,?40,""  GLUCOSE: "",$P(^(2),""^"",1),?55,""  DATE: "" S G6=9999999-G6,G7=$E(G6,5)_""-""_$E(G6,6,7)_""-""_$E(G6,2,3)_"" ""_$E(G6,9,12) W G7 S G6=9999999-G6"
^LAB(62.1,29,3,0)="^^2^2^2860719^^"
^LAB(62.1,29,3,1,0)="Looks at patient's last 5 lab results to see if there is a result for"
^LAB(62.1,29,3,2,0)="Glucose, and if so, dislays the glucose value and time it was collected."
^LAB(62.1,30,0)="URINE CASTS"
^LAB(62.1,30,1)="S X=$S(X=""Y"":"""",1:X) S:X[""N"" LRSKIP=""^URINE CRYSTALS"""
^LAB(62.1,30,3,0)="^^3^3^2860716^"
^LAB(62.1,30,3,1,0)="Could be used on the test, URINE CASTS.  If the entry is 'N' then"
^LAB(62.1,30,3,2,0)="the next prompt will be on the test, URINE CRYSTALS; otherwise"
^LAB(62.1,30,3,3,0)="it will be the next test in the urinalysis panel."
^LAB(62.1,32,0)="URINE CRYSTALS"
^LAB(62.1,32,1)="S X=$S(X=""Y"":"""",1:X) S:X[""N"" LRSKIP=""^URINE EPITH CELLS"""
^LAB(62.1,32,3,0)="^^3^3^2860716^"
^LAB(62.1,32,3,1,0)="Could be used on the test, URINE CRYSTALS.  If the entry is 'N' then"
^LAB(62.1,32,3,2,0)="the next prompt will be on the test, URINE EPITH CELLS; otherwise,"
^LAB(62.1,32,3,3,0)="it will be the next test in the urinalysis panel."
^LAB(62.1,34,0)="ANION CALC & PERCENT"
^LAB(62.1,34,1)="X ^LAB(62.1,2,1) K %X S %X="""" X:$D(LRDEL(1)) LRDEL(1) W:%X ""  Calculated ANION GAP: "",%X S:LRVRM>10 LRSB(790)=%X K %,%X,%Y,%Z"
^LAB(62.1,34,2)="X:LRVRM>10 ""F %=5,7,8 S %X(%)=$S(%=LRSB:X,$D(LRSB(%)):+LRSB(%),1:0)"" X:LRVRM<10 ""F %=5,7,8 S %X(%)=$S($D(LRSB(%)):LRSB(%),1:0)"" I %X(5)>0,%X(7)>0,%X(8)>0 S %X=%X(5)-%X(7)-%X(8)"
^LAB(62.1,34,3,0)="^^5^5^2870203^^^^"
^LAB(62.1,34,3,1,0)="Could be used on the tests: SODIUM, CHLORIDE, and CO2.  If values are"
^LAB(62.1,34,3,2,0)="present on these tests it will display the Calculated ANION GAP."
^LAB(62.1,34,3,3,0)="The test, ANION GAP, will be stuffed with this value."
^LAB(62.1,34,3,4,0)="The calculation is Na - Cl - CO2"
^LAB(62.1,34,3,5,0)="The PERCENT delta check will also be done."
^LAB(62.1,36,0)="POIKILO"
^LAB(62.1,36,1)="S:X=""N"" LRSKIP=""^MICROCYTOSIS"",X="""""
^LAB(62.1,36,3,0)="^^1^1^2860716^"
^LAB(62.1,36,3,1,0)="Entering a 'N' would skip to MICROCYTOSIS."
^LAB(62.1,37,0)="EPITHELIAL CELLS"
^LAB(62.1,37,1)="S:'(""YN""[X) X=""?"" Q:X=""?""  S X=$S(X=""Y"":"""",1:X) S:X=""N"" LRSKIP=""^URINE YEAST"""
^LAB(62.1,37,3,0)="^^3^3^2860716^"
^LAB(62.1,37,3,1,0)="Could be used on the test, URINE EPITH CELLS.  If the entry is 'N' then"
^LAB(62.1,37,3,2,0)="the next test promted would be URINE YEAST; otherwise, it would be the"
^LAB(62.1,37,3,3,0)="next test in the sequence of urinalysis panel."
^LAB(62.1,39,0)="UREA NITROGEN & OSMOLALITY"
^LAB(62.1,39,1)="X:$D(LRDEL(1)) LRDEL(1) I $D(LRLL),$L(LRLL),$D(LRISEQ),$L(LRISEQ),$D(^LR(LRDFN,""CH"",LRIDT,0)),$D(^LAH(LRLL,1,LRISEQ,2)),$D(^(3)),$D(^(5)),^(2)>0,^(3)>0,^(5)>0 S ^(791)=1.86*^(5)+(^(2)/18)+(^(3)/2.8)\1"
^LAB(62.1,39,2)="X ^LAB(62.1,1,1) I $D(^LR(LRDFN,""CH"",LRIDT,0)),$D(^(2)),$D(^(3)),$D(^(5)),^(2)>0,^(3)>0,^(5)>0 S ^(791)=1.86*^(5)+(^(2)/18)+(^(3)/2.8)\1"
^LAB(62.1,39,3,0)="^^5^5^2860719^"
^LAB(62.1,39,3,1,0)="Could be used the tests, GLUCOSE, UREA NITROGEN, and, SODIUM to calulate"
^LAB(62.1,39,3,2,0)="and store the results of CALCULATED OSMOLALITY."
^LAB(62.1,39,3,3,0)="The calculation is (1.86 * SODIUM)+(GLUCOSE / 18)+(UREA NITROGEN / 2.8)"
^LAB(62.1,39,3,4,0)="rounded off to a whole number."
^LAB(62.1,39,3,5,0)="The ABS VALUE delta check is also done."
^LAB(62.1,40,0)="URINE EPITH CELLS"
^LAB(62.1,40,1)="S X=$S(X=""Y"":"""",1:X) S:X[""N"" LRSKIP=""^URINE YEAST"""
^LAB(62.1,40,3,0)="^^3^3^2860716^"
^LAB(62.1,40,3,1,0)="Could be used on the test, URINE EPITH CELLS.  If the entry is 'N' then"
^LAB(62.1,40,3,2,0)="the next prompt will be on the test, URINE YEAST; otherwise it will"
^LAB(62.1,40,3,3,0)="be the next test in the urinalysis panel."
^LAB(62.1,41,0)="MCV"
^LAB(62.1,41,1)="I $L(X),'$D(^LR(LRDFN,""CH"",LRIDT,388)) S LRBULL=1"
^LAB(62.1,41,3,0)="^^1^1^2860719^"
^LAB(62.1,41,3,1,0)="Needs to be used on the test, MCV, in order to use the Bull algorithm."
^LAB(62.1,"B","A1C",29)=""
^LAB(62.1,"B","ABS VALUE",1)=""
^LAB(62.1,"B","ANION CALC & PERCENT",34)=""
^LAB(62.1,"B","CREATININE CLEARANCE",17)=""
^LAB(62.1,"B","DIFFANS",26)=""
^LAB(62.1,"B","DIFFINIT",24)=""
^LAB(62.1,"B","DIFFSUM",25)=""
^LAB(62.1,"B","EPITHELIAL CELLS",37)=""
^LAB(62.1,"B","HCT",4)=""
^LAB(62.1,"B","HGB",3)=""
^LAB(62.1,"B","LYMPH %",28)=""
^LAB(62.1,"B","MCHC",5)=""
^LAB(62.1,"B","MCV",41)=""
^LAB(62.1,"B","NORM1",21)=""
^LAB(62.1,"B","NORM2",22)=""
^LAB(62.1,"B","PERCENT",2)=""
^LAB(62.1,"B","PLT. EST",27)=""
^LAB(62.1,"B","POIKILO",36)=""
^LAB(62.1,"B","UREA NITROGEN & OSMOLALITY",39)=""
^LAB(62.1,"B","URIC ACID",23)=""
^LAB(62.1,"B","URINE CASTS",30)=""
^LAB(62.1,"B","URINE CRYSTALS",32)=""
^LAB(62.1,"B","URINE EPITH CELLS",40)=""
