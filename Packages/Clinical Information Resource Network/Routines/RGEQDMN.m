RGEQDMN ;BHM/RGY-DEQUEUE PROCESSOR ;2/17/98
 ;;1.0;CLINICAL INFO RESOURCE NETWORK;**19**;30 Apr 99
MAIN ;
 N TYPE,ZTIO,ZTRTN,ZTDESC,ZTDTH,ZTSK
 L +^RGEQ("MAIN"):1 E  Q
 F  D:$$TM^%ZTLOAD  Q:$$ESTOP^RGEQDMN1("MAIN")  H 15
 .S TYPE="B"
 .F  S TYPE=$O(^RGEQ(TYPE)) Q:TYPE=""  I '$$ESTOP^RGEQDMN1(TYPE) D
 ..L +^RGEQ(TYPE):1 E  Q
 ..L -^RGEQ(TYPE)
 ..S ZTREQ="@",ZTIO="",ZTRTN="SUBPROC^RGEQSUB",ZTSAVE("TYPE")="",ZTDTH=$H,ZTDESC="'"_TYPE_"' MPI/PD Subprocess" D ^%ZTLOAD
 .Q
 L -^RGEQ("MAIN")
 Q
