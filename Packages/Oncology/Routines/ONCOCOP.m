ONCOCOP ;WASH ISC/SRR,MLH-COMPUTED FIELDS FOR 165.5, DIRECT TO VARPRT ;8/9/93  09:49
 ;;2.11;ONCOLOGY;;Mar 07, 1995
 ;
GETPT ;GET POINTERS
 S X=$P($G(^ONCO(165.5,D0,0)),U,2),X=$P($G(^ONCO(160,+X,0)),U) Q:X=""  S DFN=$P(X,";"),OVR="^"_$P(X,";",2)_DFN_","
 Q
 ;
PID ;PATIENT ID (FIRST DIGIT LAST NAME,PLUS LAST 4 SSN
 D GETPT G EX:X="" S OVR=OVR_"0)",PD0=@OVR,X=$E($P(PD0,U),1)_$E($P(PD0,U,9),6,9) G EX
 Q
STCT ;STATE-COUNTY FROM MAS DATA
 D GETPT G EX:X="" S OVR=OVR_".11)",O11=$G(@OVR),(OS,X)=$P(O11,U,5) G EX:X="" S (OC,X)=$P(O11,U,7) G EX:X="" S (OC,X)=$P($G(^DIC(5,OS,1,OC,0)),U) G EX:X="" S X=$P(^DIC(5,OS,0),U,2) G EX:X="" S X=X_"/"_OC G EX
 W !,"CTY=",X ;S OC=X$P($G(^DIC(5,OS,0)),U,2) G EX:X="",EX:$P(O11,U,7)="" S OCT=$O
EX ;EXIT
 K DFN,OVR,OAD
 Q
